<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imaanity - Coming Soon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #F8F7F4; /* Soft Off-White */
            font-family: 'Nunito Sans', sans-serif;
            color: #3D3D3D; /* Dark, soft charcoal */
        }
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        .text-sage { color: #35533A; }
        .bg-sage { background-color: #35533A; }
        .border-sage { border-color: #35533A; }
        .input-focus:focus {
            border-color: #35533A;
            box-shadow: 0 0 0 2px rgba(53, 83, 58, 0.2);
            outline: none;
        }
        .fade-in {
            animation: fadeIn 1s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #game-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #1a1a1a;
            border-radius: 1rem;
            overflow: hidden;
        }
        #game-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .letter-box {
            width: 40px;
            height: 50px;
            border-bottom: 2px solid #35533A;
            font-size: 24px;
            font-weight: 600;
        }
        .keyboard-btn {
            width: 35px;
            height: 45px;
        }
        .keyboard-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto px-6 py-12 md:py-24">

        <!-- Hero Section -->
        <section class="text-center max-w-3xl mx-auto">
            <div class="fade-in" style="animation-delay: 0.2s;">
                <h1 class="font-serif text-5xl md:text-6xl font-bold text-gray-800">Imaanity</h1>
                <h2 class="font-serif italic text-lg md:text-xl text-gray-600 mt-3">Driven by Integrity, uplifted by Humanity</h2>
            </div>

            <div class="fade-in" style="animation-delay: 0.4s;">
                <p class="mt-8 text-xl text-gray-700 leading-relaxed">
                    Your new digital sanctuary for 5-minute Islamic wisdom, private reflection, and personal growth.
                </p>
            </div>
        </section>

        <!-- Three Pillars Section -->
        <section class="max-w-4xl mx-auto mt-16 md:mt-24">
             <div class="fade-in" style="animation-delay: 0.6s;">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="p-4">
                        <div class="bg-gray-200 text-sage text-3xl h-20 w-20 mx-auto rounded-full flex items-center justify-center mb-4">üìñ</div>
                        <h3 class="font-bold text-lg text-gray-800">Seek Knowledge</h3>
                        <p class="text-sm text-gray-600 mt-1">Explore bite-sized summaries of Islamic books and history.</p>
                    </div>
                    <div class="p-4">
                        <div class="bg-gray-200 text-sage text-3xl h-20 w-20 mx-auto rounded-full flex items-center justify-center mb-4">‚úçÔ∏è</div>
                        <h3 class="font-bold text-lg text-gray-800">Reflect & Write</h3>
                        <p class="text-sm text-gray-600 mt-1">A private, secure journal for your personal thoughts.</p>
                    </div>
                     <div class="p-4">
                        <div class="bg-gray-200 text-sage text-3xl h-20 w-20 mx-auto rounded-full flex items-center justify-center mb-4">üå±</div>
                        <h3 class="font-bold text-lg text-gray-800">Personal Growth</h3>
                        <p class="text-sm text-gray-600 mt-1">Tools tailored to your journey, for both brothers and sisters.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Designed for Everyone Section -->
        <section class="max-w-4xl mx-auto mt-16 md:mt-24 bg-white p-8 md:p-12 rounded-2xl shadow-sm border border-gray-200">
            <div class="text-center fade-in" style="animation-delay: 0.8s;">
                <h2 class="font-serif text-3xl font-bold text-gray-800">Designed for Everyone</h2>
                <p class="mt-2 text-gray-600 max-w-2xl mx-auto">Imaanity provides unique, personalized tools to support the daily lives of both men and women on their faith journey.</p>
            </div>
            <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <h3 class="font-bold text-lg text-sage mb-2">For Our Sisters üö∫</h3>
                    <p class="text-sm text-gray-600">Includes a private and easy-to-use menstrual tracker to help manage prayer and fasting schedules with confidence and clarity.</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                    <h3 class="font-bold text-lg text-sage mb-2">For Our Brothers üöπ</h3>
                    <p class="text-sm text-gray-600">Features a Deen Habit Tracker to help build and maintain positive daily disciplines like Salah, Qur'an reading, and charity.</p>
                </div>
            </div>
        </section>

        <!-- Game Section -->
        <section class="text-center max-w-3xl mx-auto mt-16 md:mt-24">
            <div class="fade-in" style="animation-delay: 1s;">
                <h3 class="font-serif text-3xl font-bold text-gray-800">Learning Made Easy</h3>
                <p class="mt-2 text-gray-600">We believe learning should be engaging. Try our mini-game below to get a feel for the Imaanity experience.</p>
                <div class="mt-8 bg-white p-4 sm:p-8 rounded-2xl shadow-lg">
                    <div id="game-container">
                        <canvas id="game-canvas"></canvas>
                    </div>
                    <div id="word-display" class="flex justify-center gap-2 my-6"></div>
                    <div id="keyboard" class="flex flex-wrap justify-center gap-2 max-w-md mx-auto"></div>
                    <div id="game-result" class="hidden mt-6">
                        <p id="result-text" class="font-serif text-2xl text-sage mb-4"></p>
                        <button id="reset-game-btn" class="bg-sage text-white font-bold text-base py-2 px-6 rounded-full shadow-sm hover:opacity-90 transition-opacity duration-300">Play Again</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Signup Section -->
        <section class="text-center max-w-2xl mx-auto mt-24">
            <div id="signup-form-container" class="fade-in" style="animation-delay: 1.2s;">
                <p class="font-semibold text-sage mb-4">Be the first to know when we launch.</p>
                <form id="signup-form" name="imaanity-prelaunch-list" method="POST" data-netlify="true" class="flex flex-col sm:flex-row gap-3 max-w-lg mx-auto">
                    <input type="hidden" name="form-name" value="imaanity-prelaunch-list" />
                    <input 
                        type="email" 
                        id="email-input"
                        name="email"
                        placeholder="Enter your email address" 
                        required
                        class="flex-grow w-full px-5 py-3 text-base bg-white border border-gray-300 rounded-full transition-colors duration-300 input-focus"
                    />
                    <button type="submit" class="bg-sage text-white font-bold text-base py-3 px-8 rounded-full shadow-sm hover:opacity-90 transition-opacity duration-300">
                        Join the List
                    </button>
                </form>
            </div>
            
            <div id="thank-you-message" class="hidden mt-10 fade-in bg-teal-50 border border-teal-200 text-teal-800 px-6 py-4 rounded-lg">
                 <h3 class="font-bold">Thank you! üôè</h3>
                 <p>You're on the list. We'll be in touch soon.</p>
            </div>
        </section>
    </main>
    
    <footer class="text-center py-8 mt-16 border-t border-gray-200">
        <p class="text-sm text-gray-500">&copy; 2025 Imaanity. All Rights Reserved. Muslim-Owned.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const signupForm = document.getElementById('signup-form');
            const signupFormContainer = document.getElementById('signup-form-container');
            const thankYouMessage = document.getElementById('thank-you-message');

            signupForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                const myForm = event.target;
                const formData = new FormData(myForm);

                fetch("/", {
                    method: "POST",
                    headers: { "Content-Type": "application/x-www-form-urlencoded" },
                    body: new URLSearchParams(formData).toString(),
                })
                .then(() => {
                    signupFormContainer.classList.add('hidden');
                    thankYouMessage.classList.remove('hidden');
                })
                .catch((error) => alert(error));
            });

            // --- Game Logic ---
            const words = ["IMAAN", "SABR", "NOOR", "SALAM", "DUA", "QALB"];
            const keyboardLayout = "QWERTYUIOPASDFGHJKLZXCVBNM";
            
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            const wordDisplay = document.getElementById('word-display');
            const keyboardDiv = document.getElementById('keyboard');
            const gameResultDiv = document.getElementById('game-result');
            const resultText = document.getElementById('result-text');
            const resetBtn = document.getElementById('reset-game-btn');

            let secretWord = '';
            let guessedLetters = [];
            let revealedLights = [];
            let img = new Image();
            img.src = 'https://images.unsplash.com/photo-1583913469137-98718a897f53?q=80&w=1920&auto=format&fit=crop';

            function setupGame() {
                secretWord = words[Math.floor(Math.random() * words.length)];
                guessedLetters = [];
                revealedLights = [];
                gameResultDiv.classList.add('hidden');
                
                renderWordDisplay();
                renderKeyboard();
                drawCanvas();
            }

            function renderWordDisplay() {
                wordDisplay.innerHTML = secretWord.split('').map(letter => `
                    <div class="letter-box flex items-center justify-center text-sage">
                        ${guessedLetters.includes(letter) ? letter : ''}
                    </div>
                `).join('');
            }

            function renderKeyboard() {
                keyboardDiv.innerHTML = keyboardLayout.split('').map(key => `
                    <button class="keyboard-btn bg-gray-200 text-gray-700 font-bold rounded-md hover:bg-gray-300 transition-colors duration-200">
                        ${key}
                    </button>
                `).join('');
                keyboardDiv.querySelectorAll('.keyboard-btn').forEach(btn => {
                    btn.addEventListener('click', handleGuess);
                });
            }

            function handleGuess(e) {
                const letter = e.target.textContent;
                e.target.disabled = true;

                if (!guessedLetters.includes(letter)) {
                    guessedLetters.push(letter);
                    if (secretWord.includes(letter)) {
                        // Correct guess
                    } else {
                        // Incorrect guess, reveal a light
                        if (revealedLights.length < 5) { // Limit lights revealed
                            revealedLights.push({
                                x: Math.random() * canvas.width,
                                y: Math.random() * canvas.height,
                                radius: Math.random() * 50 + 50 // Random radius
                            });
                        }
                    }
                }
                updateGameState();
            }

            function updateGameState() {
                renderWordDisplay();
                drawCanvas();

                const allLettersGuessed = secretWord.split('').every(letter => guessedLetters.includes(letter));
                if (allLettersGuessed) {
                    endGame(true);
                }
            }

            function drawCanvas() {
                canvas.width = canvas.parentElement.offsetWidth;
                canvas.height = canvas.parentElement.offsetHeight;
                
                ctx.fillStyle = '#1a1a1a';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.save();
                revealedLights.forEach(light => {
                    ctx.beginPath();
                    ctx.arc(light.x, light.y, light.radius, 0, Math.PI * 2);
                    ctx.clip();
                });

                if (img.complete) {
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                } else {
                    img.onload = () => {
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    }
                }
                ctx.restore();
            }

            function endGame(isWin) {
                if (isWin) {
                    resultText.innerHTML = `You found <span class="text-sage font-bold">'${secretWord}'</span>. Find your inner light with Imaanity.`;
                    // Reveal full image on win
                    revealedLights = [{x: canvas.width/2, y: canvas.height/2, radius: Math.max(canvas.width, canvas.height)}];
                    drawCanvas();
                }
                gameResultDiv.classList.remove('hidden');
                keyboardDiv.querySelectorAll('.keyboard-btn').forEach(btn => btn.disabled = true);
            }

            resetBtn.addEventListener('click', setupGame);

            // Initial setup
            setupGame();
            window.addEventListener('resize', drawCanvas);
        });
    </script>

</body>
</html>
