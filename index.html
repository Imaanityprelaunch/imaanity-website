<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imaanity - Coming Soon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Inter:wght@400;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #F8F7F4; /* Soft Off-White */
            font-family: 'Inter', sans-serif;
            color: #3D3D3D; /* Dark, soft charcoal */
        }
        .font-heading {
            font-family: 'Lora', serif;
        }
        .font-accent {
            font-family: 'Dancing Script', cursive;
        }
        .text-sage { color: #35533A; }
        .bg-sage { background-color: #35533A; }
        .border-sage { border-color: #35533A; }
        .input-focus:focus {
            border-color: #35533A;
            box-shadow: 0 0 0 2px rgba(53, 83, 58, 0.2);
            outline: none;
        }
        .fade-in {
            animation: fadeIn 1s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .answer-btn {
            transition: all 0.2s ease-in-out;
        }
        .answer-btn.correct {
            background-color: #35533A;
            color: white;
            border-color: #35533A;
        }
        .answer-btn.incorrect {
            background-color: #D32F2F;
            color: white;
            border-color: #D32F2F;
        }
        #jumper {
            transition: transform 0.5s ease-in-out;
        }
        .jump {
            animation: jump 0.5s ease-in-out;
        }
        @keyframes jump {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-30px) scale(1.1); }
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto px-6 py-12 md:py-24">

        <!-- Hero Section -->
        <section class="text-center max-w-2xl mx-auto">
            <div class="fade-in" style="animation-delay: 0.2s;">
                <h1 class="font-heading text-5xl md:text-6xl font-bold text-gray-800">Imaanity</h1>
                <h2 class="font-accent text-2xl md:text-3xl text-gray-600 mt-3">Driven by Integrity, uplifted by Humanity</h2>
            </div>

            <div class="fade-in" style="animation-delay: 0.4s;">
                <p class="mt-8 text-lg text-gray-700 leading-relaxed">
                    A new digital sanctuary is coming soon. A quiet space to nurture your soul through 5-minute wisdom, private reflection, and personal growth tools.
                </p>
            </div>
        </section>

        <!-- Signup Section -->
        <section class="text-center max-w-xl mx-auto mt-12">
            <div id="signup-form-container" class="fade-in" style="animation-delay: 0.6s;">
                <p class="font-semibold text-sage mb-4">Be the first to know when we launch.</p>
                <form id="signup-form" name="imaanity-prelaunch-list" method="POST" data-netlify="true" class="flex flex-col sm:flex-row gap-3">
                    <input type="hidden" name="form-name" value="imaanity-prelaunch-list" />
                    <input 
                        type="email" 
                        id="email-input"
                        name="email"
                        placeholder="Enter your email address" 
                        required
                        class="flex-grow w-full px-5 py-3 text-base bg-white border border-gray-300 rounded-full transition-colors duration-300 input-focus"
                    />
                    <button type="submit" class="bg-sage text-white font-bold text-base py-3 px-8 rounded-full shadow-sm hover:opacity-90 transition-opacity duration-300">
                        Join the List
                    </button>
                </form>
            </div>
            
            <div id="thank-you-message" class="hidden mt-10 fade-in bg-teal-50 border border-teal-200 text-teal-800 px-6 py-4 rounded-lg">
                 <h3 class="font-bold">Thank you! üôè</h3>
                 <p>You're on the list. We'll be in touch soon.</p>
            </div>
        </section>

        <!-- Game Section -->
        <section class="max-w-xl mx-auto mt-20 md:mt-28">
             <div class="text-center fade-in" style="animation-delay: 0.8s;">
                <h3 class="font-heading text-3xl font-bold text-gray-800">Leap of Faith</h3>
                <p class="mt-2 text-gray-600">Answer the questions correctly to help the character complete their journey.</p>
             </div>
             <div id="game-container" class="mt-8 bg-white p-6 rounded-2xl shadow-lg border border-gray-200">
                <!-- Visuals -->
                <div class="h-24 relative mb-6 flex items-end justify-between px-4">
                    <div class="text-4xl" id="jumper">üßç</div>
                    <div id="finish-line" class="text-4xl">üèÅ</div>
                </div>
                <!-- Game Content -->
                <div id="game-content" class="text-center">
                    <p id="question-text" class="font-semibold text-lg h-16"></p>
                    <div id="answer-buttons" class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4"></div>
                </div>
                <!-- Game Result -->
                 <div id="game-result" class="hidden text-center">
                     <p id="result-text" class="font-heading text-2xl text-sage mb-4"></p>
                     <button id="reset-game-btn" class="bg-sage text-white font-bold text-base py-2 px-6 rounded-full shadow-sm hover:opacity-90 transition-opacity duration-300">Play Again</button>
                 </div>
             </div>
        </section>
        
    </main>
    
    <footer class="text-center py-8 mt-16 border-t border-gray-200">
        <p class="text-sm text-gray-500">&copy; 2025 Imaanity. All Rights Reserved. Muslim-Owned.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const signupForm = document.getElementById('signup-form');
            const signupFormContainer = document.getElementById('signup-form-container');
            const thankYouMessage = document.getElementById('thank-you-message');

            signupForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                const myForm = event.target;
                const formData = new FormData(myForm);

                fetch("/", {
                    method: "POST",
                    headers: { "Content-Type": "application/x-www-form-urlencoded" },
                    body: new URLSearchParams(formData).toString(),
                })
                .then(() => {
                    signupFormContainer.classList.add('hidden');
                    thankYouMessage.classList.remove('hidden');
                })
                .catch((error) => alert(error));
            });

            // --- Game Logic ---
            const questions = [
                { q: "Which Prophet is known as 'Khalilullah' (the friend of Allah)?", a: ["Prophet Muhammad (PBUH)", "Prophet Ibrahim (AS)", "Prophet Musa (AS)"], correct: 1 },
                { q: "What is the name of the holy month of fasting?", a: ["Shawwal", "Dhul Hijjah", "Ramadan"], correct: 2 },
                { q: "How many times a day do Muslims perform Salah (prayer)?", a: ["3", "5", "7"], correct: 1 },
                { q: "Which angel revealed the Qur'an to Prophet Muhammad (PBUH)?", a: ["Angel Jibril (Gabriel)", "Angel Mika'il (Michael)", "Angel Israfil"], correct: 0 },
                { q: "What is the direction Muslims face when they pray?", a: ["Jerusalem", "The Kaaba in Mecca", "The Prophet's Mosque"], correct: 1 },
                { q: "What is the name of the pilgrimage to Mecca?", a: ["Hajj", "Umrah", "Ziyarah"], correct: 0 },
                { q: "What is the term for permissible food in Islam?", a: ["Haram", "Makruh", "Halal"], correct: 2 },
                { q: "Which Prophet built the Ark?", a: ["Prophet Nuh (Noah)", "Prophet Adam (AS)", "Prophet Sulaiman (Solomon)"], correct: 0 }
            ];

            const jumper = document.getElementById('jumper');
            const questionText = document.getElementById('question-text');
            const answerButtonsDiv = document.getElementById('answer-buttons');
            const gameContent = document.getElementById('game-content');
            const gameResultDiv = document.getElementById('game-result');
            const resultText = document.getElementById('result-text');
            const resetBtn = document.getElementById('reset-game-btn');

            let currentQuestionIndex = 0;
            let score = 0;
            const totalQuestions = 3;

            function startGame() {
                currentQuestionIndex = 0;
                score = 0;
                jumper.style.transform = `translateX(0%)`;
                gameContent.classList.remove('hidden');
                gameResultDiv.classList.add('hidden');
                // Shuffle questions at the start of each game
                questions.sort(() => Math.random() - 0.5);
                displayQuestion();
            }

            function displayQuestion() {
                if (currentQuestionIndex >= questions.length) {
                    // This case should ideally not be hit if we have enough questions
                    endGame(true); // End game if we run out
                    return;
                }
                
                const question = questions[currentQuestionIndex];
                questionText.textContent = question.q;
                answerButtonsDiv.innerHTML = '';

                // Shuffle answers for variety
                const shuffledAnswers = question.a.map((answer, index) => ({ answer, index }))
                                                  .sort(() => Math.random() - 0.5);

                shuffledAnswers.forEach(({ answer, index }) => {
                    const button = document.createElement('button');
                    button.textContent = answer;
                    button.classList.add('answer-btn', 'w-full', 'bg-white', 'border-2', 'border-gray-300', 'text-gray-700', 'font-semibold', 'py-3', 'px-4', 'rounded-full', 'hover:border-sage');
                    button.onclick = () => checkAnswer(index, question.correct, button);
                    answerButtonsDiv.appendChild(button);
                });
            }

            function checkAnswer(selectedIndex, correctIndex, button) {
                document.querySelectorAll('.answer-btn').forEach(btn => btn.disabled = true);

                if (selectedIndex === correctIndex) {
                    button.classList.add('correct');
                    score++;
                    jumper.classList.add('jump');
                    const progress = (score / totalQuestions) * 100;
                    jumper.style.transform = `translateX(${progress}%)`;
                    setTimeout(() => jumper.classList.remove('jump'), 500);
                } else {
                    button.classList.add('incorrect');
                }

                setTimeout(() => {
                    currentQuestionIndex++;
                    if (score >= totalQuestions) {
                        endGame(true);
                    } else {
                        displayQuestion();
                    }
                }, 1000);
            }

            function endGame(isWin) {
                gameContent.classList.add('hidden');
                gameResultDiv.classList.remove('hidden');
                if (isWin) {
                    resultText.textContent = "Journey Complete! Well done.";
                }
            }

            resetBtn.addEventListener('click', startGame);

            startGame();
        });
    </script>

</body>
</html>
